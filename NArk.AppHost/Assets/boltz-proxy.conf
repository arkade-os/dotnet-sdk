upstream boltz_api {
  server boltz:9001;
}

upstream boltz_sidecar {
  server boltz:9005;
}

server {
  listen 9069;

  # Sidecar-served endpoints
  location /v2/swap/restore {
    proxy_pass http://boltz_sidecar;
  }

  # Everything else goes to the main API
  location / {
    proxy_pass http://boltz_api;
  }
}
